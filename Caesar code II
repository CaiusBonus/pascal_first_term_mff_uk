{Zadanie CZ: Napište program na šifrování a dešifrování textu tzv. Césarovou šifrou. Na prvním řádku dostane program buď řetězec
'sifrovat' nebo řetězec 'desifrovat', podle toho, zda bude program šifrovat nebo dešifrovat. Na druhém řádku bude klíč a na třetím bude
samotný text k šifrování/dešifrování.

Text je šifrován posunem písmenek v abecedě podle klíče. Klíč je slovo tvořené písmeny 'A' - 'Z', 'A' znamená posun o 1 písmeno,
'B' znamená posun o 2 písmena, atd. až 'Z' znamená posun o 26 písmen. Posun je chápán cyklicky, čili po písmenu Z následuje opět 
písmeno A. Pokud je text delší než klíč, tak se po dosažení konce klíče pokračuje opět od začátku klíče.

Klíč je řetězec znaků tvořený pouze písmeny 'A' až 'Z' a vejde se do datového typu string.
Text je řetězec libovolně dlouhý (nemusí se tedy vejít do stringu) a obsahuje pouze znaky 'A' - 'Z' a ' ' (mezera). Mezery ponechte 
mezerami:-)

Výstupem programu je právě jeden řádek se zašifrovaným/dešifrovaným textem.

Příklad 1:
Vstup:
sifrovat
AAB
SIFRUJI SIFRU

Výstup:
TJHSVLJ TKGSW

Příklad 2:
Vstup:
desifrovat
AAB
TJHSVLJ TKGSW

Výstup:
SIFRUJI SIFRU

Poznámka: První dva testy jsou shodné se vzorovým vstupem, takže pokud vám program doma běží, ale CodEx říká, že máte špatnou odpověď,
pak můžete mít chybu ve špatném formátu výstupu.}

type sekvencia= array[1..255] of integer;
var i,j,k: integer;
    textik: array[1..40] of string;
    uloha,kluc,vystup: string;
    key: array[1..255] of integer;
    kod: array[1..40] of sekvencia;

procedure UpravaKluca;
begin
for i:=1 to length(kluc) do
key[i]:= ord(kluc[i])-64;
end;

procedure TextNaKod;
begin
for j:=1 to 40 do
begin
for i:=1 to length(textik[j]) do
kod[j][i]:=ord(textik[j][i]);
end;
end;


procedure Sifrovanie;
begin
if uloha='sifrovat' then
begin
k:=1;
for j:=1 to 40 do
begin
for i:=1 to length(textik[j]) do
begin
if k>length(kluc) then
k:=1;
if kod[j][i]<>32 then
begin
kod[j][i]:=kod[j][i]+key[k];
k:=k+1;
end;
if (kod[j][i]>90) then
kod[j][i]:=64+kod[j][i]-90;
end;
end;
end
else
end;

procedure Desifrovanie;
begin
if uloha='desifrovat' then
begin
k:=1;
for j:=1 to 40 do
begin
for i:=1 to length(textik[j]) do
begin
if k>length(kluc) then
k:=1;
if kod[j][i]<>32 then
begin
kod[j][i]:=kod[j][i]-key[k];
k:=k+1;
end;
if ((kod[j][i]<65)and(kod[j][i]<>32)) then
kod[j][i]:=91+kod[j][i]-65;
end;
end;
end
else
end;

procedure KodNaText;
begin
for j:=1 to 40 do
for i:=1 to length(textik[j])do
textik[j]
[i]:=chr(kod[j][i]);
end;

begin
readln(uloha);
readln(kluc);
UpravaKluca;
for i:=1 to 40 do
begin
read(textik[i]);
end;
TextNaKod;
Sifrovanie;
Desifrovanie;
KodNaText;
for j:=1 to 40 do
begin
for i:=1 to length(textik[j]) do
write(textik[j][i]);
end;
end.
 
